var ___logAdvancedName="LogAdvancedNamespace";(function(){var c=___logAdvancedName;var g=window,a=0,f=false,b=false;while((g!=window.top||g!=g.parent)&&a<10){f=true;try{g.parent.location.toString()}catch(e){b=true;break}a++;g=g.parent}if(a>=10){b=true}if(!b&&top.location.href.indexOf("union.baidu.com")>0){b=true}var d=function(h,j,i){h.baseName=c;h.isInIframe=j;h.isCrossDomain=i;h.needInitTop=j&&!i;h.buildInObject={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object Window]":1};h.clone=function(o){var l=o,m,k;if(!o||o instanceof Number||o instanceof String||o instanceof Boolean){return l}else{if(o instanceof Array){l=[];var n=0;for(m=0,k=o.length;m<k;m++){l[n++]=this.clone(o[m])}}else{if("object"===typeof o){if(this.buildInObject[Object.prototype.toString.call(o)]){return l}l={};for(m in o){if(o.hasOwnProperty(m)){l[m]=this.clone(o[m])}}}}}return l};h.create=function(m,p){var l=Array.prototype.slice.call(arguments,0);l.shift();var n=function(q){this.initialize=this.initialize||function(){};this.initializeDOM=this.initializeDOM||function(){};this.initializeEvent=this.initializeEvent||function(){};this.initialize.apply(this,q);this.initializeDOM.apply(this,q);this.initializeEvent.apply(this,q)};n.prototype=m;var k=new n(l);for(var o in m){if(k[o]&&typeof k[o]==="object"&&k[o].modifier&&k[o].modifier.indexOf("dynamic")>-1){k[o]=this.clone(k[o])}}k.instances=null;m.instances=m.instances||[];m.instances.push(k);return k};h.registerMethod=function(o,k){var p={};var l={};var s,q,r;for(q in k){s=k[q];if(!q||!s){continue}if(typeof s==="object"&&s.modifier&&s.modifier==="dynamic"){this.registerMethod(o[q],s)}else{if(typeof s==="function"){p[q]=s}else{l[q]=s}}}for(q in p){s=p[q];if(q&&s){o[q]=s}}if(o.instances&&o.instances.length&&o.instances.length>0){for(var m=0,n=o.instances.length;m<n;m++){r=o.instances[m];this.registerMethod(r,k)}}};h.registerObj=function(m,o){var l=Array.prototype.slice.call(arguments,0);l.shift();var n=function(p){this.register=this.register||function(){};this.register.apply(this,p)};n.prototype=m;n.prototype.instances=null;var k=new n(l);return k};h.registerNamespaceByWin=function(m,o){var o=m.win=o||window;var l=m.fullName.replace("$baseName",this.baseName);var s=l.split(".");var p=s.length;var t=o;var r;for(var n=0;n<p-1;n++){var k=s[n];if(t==o){t[k]=o[k]=o[k]||{};r=k;m.baseName=r}else{t[k]=t[k]||{}}t=t[k]}var q=t[s[p-1]]||{};if(q.fullName&&q.version){this.registerMethod(q,m)}else{q=this.registerObj(m);q.instances=null;t[s[p-1]]=q}};h.registerNamespace=function(k){if(!k||!k.fullName||!k.version){return}this.registerNamespaceByWin(k,window);if(this.needInitTop){this.registerNamespaceByWin(k,window.top)}};h.registerClass=h.registerNamespace;h.using=function(m,p){var k;if(!p&&this.isInIframe&&!this.isCrossDomain&&top&&typeof top==="object"&&top.document&&"setInterval" in top){p=top}else{p=p||window}m=m.replace("$baseName",this.baseName);var l=m.split(".");k=p[l[0]];for(var n=1,o=l.length;n<o;n++){if(k&&k[l[n]]){k=k[l[n]]}else{k=null}}return k}};window[c]=window[c]||{};d(window[c],f,b);if(f&&!b){window.top[c]=window.top[c]||{};d(window.top[c],f,b)}})();(function(b){var a={fullName:"$baseName.Utility",version:"1.0.0",register:function(){this.browser=this.browser||{};if(/msie (\d+\.\d)/i.test(navigator.userAgent)){this.browser.ie=document.documentMode||+RegExp["\x241"]}if(/opera\/(\d+\.\d)/i.test(navigator.userAgent)){this.browser.opera=+RegExp["\x241"]}if(/firefox\/(\d+\.\d)/i.test(navigator.userAgent)){this.browser.firefox=+RegExp["\x241"]}if(/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)){this.browser.safari=+(RegExp["\x241"]||RegExp["\x242"])}if(/chrome\/(\d+\.\d)/i.test(navigator.userAgent)){this.browser.chrome=+RegExp["\x241"]}try{if(/(\d+\.\d)/.test(window.external.max_version)){this.browser.maxthon=+RegExp["\x241"]}}catch(c){}this.browser.isWebkit=/webkit/i.test(navigator.userAgent);this.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);this.browser.isStrict=document.compatMode=="CSS1Compat"},browser:{},isWindow:function(e){var c=false;try{if(e&&typeof e==="object"&&e.document&&"setInterval" in e){c=true}}catch(d){c=false}return c},isInIframe:function(c){c=c||window;return c!=window.top&&c!=c.parent},isInCrossDomainIframe:function(g,d){var c=false;g=g||window;d=d||window.top;var f=0;if(!this.isWindow(d)||!this.isWindow(d.parent)){c=true}else{while((g!=d)&&f<10){f++;if(this.isWindow(g)&&this.isWindow(g.parent)){try{g.parent.location.toString()}catch(e){c=true;break}}else{c=true;break}g=g.parent}}if(f>=10){c=true}return c},g:function(d,c){c=c||window;if("string"===typeof d||d instanceof String){return c.document.getElementById(d)}else{if(d&&d.nodeName&&(d.nodeType==1||d.nodeType==9)){return d}}return d},sendRequestViaImage:function(d,f){var c=new Image();var e="cpro_log_"+Math.floor(Math.random()*2147483648).toString(36);f=f||window;f[e]=c;c.onload=c.onerror=c.onabort=function(){c.onload=c.onerror=c.onabort=null;f[e]=null;c=null};c.src=d},getDocument:function(c){if(!c){return document}c=this.g(c);return c.nodeType==9?c:c.ownerDocument||c.document},getWindow:function(c){c=this.g(c);var d=this.getDocument(c);return d.parentWindow||d.defaultView||null},getTopWindow:function(c){c=c||window;if(this.isInIframe(c)&&!this.isInCrossDomainIframe(c,c.top)&&this.isWindow(c.top)){return c.top}return c},bind:function(c,d,e){c=this.g(c);d=d.replace(/^on/i,"").toLowerCase();if(c.addEventListener){c.addEventListener(d,e,false)}else{if(c.attachEvent){c.attachEvent("on"+d,e)}}return c},unBind:function(c,d,e){c=this.g(c);d=d.replace(/^on/i,"").toLowerCase();if(c.removeEventListener){c.removeEventListener(d,e,false)}else{if(c.detachEvent){c.detachEvent("on"+d,e)}}return c},proxy:function(e,d,c){var g=e;var f=d;return function(){if(c&&c.length){return g.apply(f||{},c)}else{return g.apply(f||{},arguments)}}},getStyle:function(e,d){var c;e=this.g(e);var g=this.getDocument(e);var h="";if(d.indexOf("-")>-1){h=d.replace(/[-_][^-_]{1}/g,function(i){return i.charAt(1).toUpperCase()})}else{h=d.replace(/[A-Z]{1}/g,function(i){return"-"+i.charAt(0).toLowerCase()})}var f;if(g&&g.defaultView&&g.defaultView.getComputedStyle){f=g.defaultView.getComputedStyle(e,null);if(f){c=f.getPropertyValue(d)}if(typeof c!=="boolean"&&!c){c=f.getPropertyValue(h)}}else{if(e.currentStyle){f=e.currentStyle;if(f){c=f[d]}if(typeof c!=="boolean"&&!c){c=f[h]}}}return c},getPositionCore:function(c){c=this.g(c);var k=this.getDocument(c),f=this.browser,d=f.isGecko>0&&k.getBoxObjectFor&&this.getStyle(c,"position")=="absolute"&&(c.style.top===""||c.style.left===""),i={left:0,top:0},h=(f.ie&&!f.isStrict)?k.body:k.documentElement,l,e;if(c==h){return i}if(c.getBoundingClientRect){e=c.getBoundingClientRect();i.left=Math.floor(e.left)+Math.max(k.documentElement.scrollLeft,k.body.scrollLeft);i.top=Math.floor(e.top)+Math.max(k.documentElement.scrollTop,k.body.scrollTop);i.left-=k.documentElement.clientLeft;i.top-=k.documentElement.clientTop;var j=k.body,m=parseInt(this.getStyle(j,"borderLeftWidth")),g=parseInt(this.getStyle(j,"borderTopWidth"));if(f.ie&&!f.isStrict){i.left-=isNaN(m)?2:m;i.top-=isNaN(g)?2:g}}else{l=c;do{i.left+=l.offsetLeft;i.top+=l.offsetTop;if(f.isWebkit>0&&this.getStyle(l,"position")=="fixed"){i.left+=k.body.scrollLeft;i.top+=k.body.scrollTop;break}l=l.offsetParent}while(l&&l!=c);if(f.opera>0||(f.isWebkit>0&&this.getStyle(c,"position")=="absolute")){i.top-=k.body.offsetTop}l=c.offsetParent;while(l&&l!=k.body){i.left-=l.scrollLeft;if(!f.opera||l.tagName!="TR"){i.top-=l.scrollTop}l=l.offsetParent}}return i},getPosition:function(i,h){h=h||window;var e=this.g(i,h);if(!e){return}var c=this.getPositionCore(e);var d;var g=10,f=0;while(h!=h.parent&&f<g){f++;d={top:0,left:0};if(!this.isInCrossDomainIframe(h,h.parent)&&h.frameElement){d=this.getPositionCore(h.frameElement)}else{break}c.left+=d.left;c.top+=d.top;h=h.parent}return c},getOuterWidth:function(e,d){e=this.g(e);d=d||false;var c=e.offsetWidth;if(d){var g=this.getStyle(e,"marginLeft").toString().toLowerCase().replace("px","").replace("auto","0");var f=this.getStyle(e,"marginRight").toString().toLowerCase().replace("px","").replace("auto","0");c=c+parseInt(g||0)+parseInt(f||0)}return c},getOuterHeight:function(e,d){e=this.g(e);d=d||false;var c=e.offsetHeight;if(d){var f=this.getStyle(e,"marginTop").toString().toLowerCase().replace("px","").replace("auto","0");var g=this.getStyle(e,"marginBottom").toString().toLowerCase().replace("px","").replace("auto","0");c=c+parseInt(f||0)+parseInt(g||0)}return c},getTopIframe:function(f){var c=this.g(f);var d=this.getWindow(c);var e=0;if(this.isInIframe(window)&&!this.isInCrossDomainIframe(window)){while(d.parent!=window.top&&e<10){e++;d=d.parent}if(e<10){c=d.frameElement||c}}return c},getOpacityInWin:function(k){var j=this.g(k);var h=this.getWindow(j);var c=100;var f=j;var i;try{while(f&&f.tagName){i=100;if(this.browser.ie){if(this.browser.ie>5){try{i=f.filters.alpha.opacity||100}catch(g){}}c=c>i?i:c}else{try{i=(h.getComputedStyle(f,null).opacity||1)*100}catch(g){}c=c*(i/100)}f=f.parentNode}}catch(d){}return c||100},getOpacity:function(i){var h=this.g(i);var g=this.getWindow(h);var c=this.getOpacityInWin(h);var d=100;var e=0,f=10;while(this.isInIframe(g)){e++;if(!this.isInCrossDomainIframe(g,g.parent)){d=100;if(g.frameElement){d=this.getOpacityInWin(g.frameElement)}c=c*(d/100)}else{break}g=g.parent}return c},dateToString:function(d,c){var g={"M+":d.getMonth()+1,"d+":d.getDate(),"h+":d.getHours()%12==0?12:d.getHours()%12,"H+":d.getHours(),"m+":d.getMinutes(),"s+":d.getSeconds(),"q+":Math.floor((d.getMonth()+3)/3),S:d.getMilliseconds()};var f={"0":"\u65e5","1":"\u4e00","2":"\u4e8c","3":"\u4e09","4":"\u56db","5":"\u4e94","6":"\u516d"};if(/(y+)/.test(c)){c=c.replace(RegExp.$1,(d.getFullYear()+"").substr(4-RegExp.$1.length))}if(/(E+)/.test(c)){c=c.replace(RegExp.$1,((RegExp.$1.length>1)?(RegExp.$1.length>2?"\u661f\u671f":"\u5468"):"")+f[d.getDay()+""])}for(var e in g){if(new RegExp("("+e+")").test(c)){c=c.replace(RegExp.$1,(RegExp.$1.length==1)?(g[e]):(("00"+g[e]).substr((""+g[e]).length)))}}return c},param:function(h,i){var c=new Array(),g,f,d;for(var e in h){d=true;if(i){g=i[e]?i[e]:e;d=i[e]?true:false}if(!d){continue}var f=h[e];switch(typeof f){case"string":case"number":c.push(g+"="+f.toString());break;case"boolean":c.push(g+"="+(f?"1":"0"));break;case"object":if(f instanceof Date){c.push(g+"="+this.dateToString(f,"yyyyMMddhhmmssS"))}break;default:break}}return c.join("&")},getLength:function(e){var c=0;if(typeof e==="object"){if(e instanceof Array){c=e.length}else{var d;for(d in e){if(d){c++}}}}return c},getScrollWidth:function(d){try{d=d||window;if(d.document.compatMode==="BackCompat"){return d.document.body.scrollWidth}else{return d.document.documentElement.scrollWidth}}catch(c){return 0}},getScrollHeight:function(d){try{d=d||window;if(d.document.compatMode==="BackCompat"){return d.document.body.scrollHeight}else{return d.document.documentElement.scrollHeight}}catch(c){return 0}},getClientWidth:function(d){try{d=d||window;if(d.document.compatMode==="BackCompat"){return d.document.body.clientWidth}else{return d.document.documentElement.clientWidth}}catch(c){return 0}},getClientHeight:function(d){try{d=d||window;if(d.document.compatMode==="BackCompat"){return d.document.body.clientHeight}else{return d.document.documentElement.clientHeight}}catch(c){return 0}},getScrollTop:function(c){c=c||window;var e=c.document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},getScrollLeft:function(c){c=c||window;var e=c.document;return window.pageXOffset||e.documentElement.scrollLeft||e.body.scrollLeft},escapeToEncode:function(d){var c=d||"";if(c){c=c.replace(/%u[\d|\w]{4}/g,function(e){return encodeURIComponent(unescape(e))})}return c},template:function(e,d){var c=/{(.*?)}/g;return e.replace(c,function(h,g,f,i){return d[g]||""})},extend:function(e,c){for(var d in c){if(c.hasOwnProperty(d)){e[d]=c[d]}}return e},log:function(f,d){d=typeof d==="undefined"?true:false;if(!this.logMsg){this.logMsg=document.getElementById("baiduCproLogMsg");if(!this.logMsg){return}}var c=new Array();if(typeof(f)==="object"){for(var e in f){if(e!=="analysisUrl"){c.push(e+":"+f[e])}}}else{c.push(""+f)}this.logMsg.innerHTML=d?this.logMsg.innerHTML:"";this.logMsg.innerHTML+=c.join("<br/>")+"<br/>"},getCookieRaw:function(d,h){var c;var h=h||window;var g=h.document;var e=new RegExp("(^| )"+d+"=([^;]*)(;|\x24)");var f=e.exec(g.cookie);if(f){c=f[2]}return c},setCookieRaw:function(e,f,d){d=d||{};var c=d.expires;if("number"==typeof d.expires){c=new Date();c.setTime(c.getTime()+d.expires)}document.cookie=e+"="+f+(d.path?"; path="+d.path:"")+(c?"; expires="+c.toGMTString():"")+(d.domain?"; domain="+d.domain:"")+(d.secure?"; secure":"")},jsonToObj:function(c){return(new Function("return "+c))()},getUrlQueryValue:function(d,e){if(d&&e){var f=new RegExp("(^|&|\\?|#)"+e+"=([^&]*)(&|\x24)","");var c=d.match(f);if(c){return c[2]}}return null},ready:function(h,d,g){g=g||this.win||window;var f=g.document;d=d||0;this.domReadyMonitorRunTimes=0;this.readyFuncArray=this.readyFuncArray||[];this.readyFuncArray.push({func:h,delay:d,done:false});var c=this.proxy(function(){var n=false;this.domReadyMonitorRunTimes++;var p=false;try{if(g.frameElement){p=true}}catch(o){p=true}if(this.browser.ie&&this.browser.ie<9&&!p){try{f.documentElement.doScroll("left");n=true}catch(o){}}else{if(f.readyState==="complete"||this.domContentLoaded){n=true}else{if(this.domReadyMonitorRunTimes>300000){if(this.domReadyMonitorId){g.clearInterval(this.domReadyMonitorId);this.domReadyMonitorId=null}return}}}if(n){try{if(this.readyFuncArray&&this.readyFuncArray.length){for(var k=0,m=this.readyFuncArray.length;k<m;k++){var l=this.readyFuncArray[k];if(!l||!l.func||l.done){continue}if(!l.delay){l.done=true;l.func()}else{l.done=true;g.setTimeout(l.func,l.delay)}}}}catch(j){throw j}finally{if(this.domReadyMonitorId){g.clearInterval(this.domReadyMonitorId);this.domReadyMonitorId=null}}}},this);var e=this.proxy(function(){this.domContentLoaded=true;c()},this);if(!this.domReadyMonitorStarted){this.domReadyMonitorStarted=true;this.domReadyMonitorId=g.setInterval(c,50);if(f.addEventListener){f.addEventListener("DOMContentLoaded",e,false);g.addEventListener("load",e,false)}else{if(f.attachEvent){g.attachEvent("onload",e,false)}}}},canFixed:function(){var c=true;if(this.browser.ie&&(this.browser.ie<7||document.compatMode==="BackCompat")){c=false}return c},getPara:function(k){var j={};if(k&&typeof k=="string"&&k.indexOf("?")>-1){var f=k.split("?")[1].split("&");for(var g=0,c=f.length;g<c;g++){var d=f[g].split("=");var e=d[0];var h=d[1];j[e]=h}}return j},noop:function(){}};b.registerNamespace(a)})(window[___logAdvancedName]);(function(b){var c={fullName:"$baseName.BusinessLogic",version:"1.0.0",register:function(){this.G=b.using("$baseName",this.win);this.U=b.using("$baseName.Utility",this.win)},randomArray:[],clientTree:{},displayCounter:1,displayTypeCounter:{},adsArray:[],adsWrapStore:{},winFocused:true,cproServiceUrl:"http://cpro.baidu.com/cpro/ui/uijs.php",iframeIdPrefix:"cproIframe",isAsyn:false,currentWindowOnUnloadHandler:null,getSlotDataFromUnion:function(f,j,h){if(!f||!j||!window[j]){return null}if(f instanceof Array){f=f.join(",")}var i="http://pos.baidu.com/ecom?di={slotId}&tm=BAIDU_CPRO_SETJSONADSLOT&fn={callbackName}&baidu_id={baiduId}";var d=this.U.getCookieRaw("BAIDUID")||"";var g=this.U.template(i,{slotId:f,callbackName:j,baiduId:d});if(/u\d+/.test(f)){if(h){var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("src",g);document.getElementsByTagName("head")[0].appendChild(e)}else{document.write('<script type="text/javascript" charset="utf-8" src="'+g+'"><\/script>')}}else{window[j](null,{_html:f})}},getSlotDataFromCB:function(f,e){var d=null;f=f||window.tempClbCproAdSlotId;e=e||window.tempClbCproAdObj;if(f&&e){d={};d[f]={_html:e._html}}return d},clearSlotDataFromCB:function(){window.tempClbCproAdSlotId=null;window.tempClbCproAdObj=null},parseSlotDataFromUnion:function(e){var m={};var f="";for(var d in e){if(d&&e.hasOwnProperty(d)){f=d;break}}m.slotId=f;var g=e[f]._html.split("|");var k,l;for(var h=0,j=g.length;h<j;h++){k=g[h];if(k){l=k.split("=");m[l[0]]=l[1]}}return m},getSlotDataFromUserOpenApi:function(){var d=null;if(window.cproApi&&typeof window.cproApi==="object"&&(this.U.getLength(window.cproApi)>0)){var f=window.cproApi;d={};window.cproApi=null;for(var e in f){if(e&&f[e]){d["cpro_"+e]=f[e]}}}return d},isPreview:function a(q,l,k,d,f){var r=false;var j;if(f){j=f.substring(f.indexOf("?"))}else{if(this.U.isInCrossDomainIframe()){j=window.location.search.slice(1)}else{j=top.location.search.slice(1)}}var g=document.referrer;var i=k==="inlay"||k==="ui"?"bd_cpro_prev":"bd_cpro_fprev";var n="";var m;var p;try{p=document.cookie}catch(o){}if(j.indexOf(i)!==-1){n=this.U.getUrlQueryValue(j,i)}if(!n&&p&&p.indexOf(i)!==-1){n=this.U.getCookieRaw(i)}if(!n&&g.indexOf(i)!==-1){n=this.U.getUrlQueryValue(g,i)}if(n){n=decodeURIComponent(n).replace(/\\x1e/g,"&").replace(/\\x1d/g,"=").replace(/\\x1c/,"?").replace(/\\x5c/,"\\");m=this.U.jsonToObj(n);if(d==undefined){d=1}if(m.type!=1&&(d&2)==2){r=(parseInt(m.imgWidth)===parseInt(q)&&parseInt(m.imgHeight)===parseInt(l))}else{if(m.type==1&&((d&1)==1||(d&64)==64||(d&32)==32)){r=true}}}return r},getAdsDomId:function(d){d=d||1;return this.iframeIdPrefix+d},checkAdsCounter:function(f,h,e){var d=false;var g;if(e&&e.indexOf("tlink")>-1){f="LinkUnit"}switch(f.toLowerCase()){case"inlay":g=3;break;case"LinkUnit":g=3;break;case"float":g=1;break;case"ui":g=3;if(e=="baiduDEFINE"){g=4}break;default:g=3;break}h.__bdcpro__displayTypeCounter=h.__bdcpro__displayTypeCounter||{};h.__bdcpro__displayTypeCounter[f]=h.__bdcpro__displayTypeCounter[f]||0;if(h.__bdcpro__displayTypeCounter[f]>=g){d=true}return d},addAdsCounter:function(e,f,d){if(d&&d.indexOf("tlink")>-1){e="LinkUnit"}f.__bdcpro__displayTypeCounter=f.__bdcpro__displayTypeCounter||{};f.__bdcpro__displayTypeCounter[e]=f.__bdcpro__displayTypeCounter[e]||0;f.__bdcpro__displayTypeCounter[e]++;return true},getAdsWrapArray:function(e){var d=[];if(e&&typeof e=="string"){var j=e.split(",");var g=0;for(var f=0,h=j.length;f<h;f++){if(/u\d+/.test(j[f])&&!this.adsWrapStore[j[f]]){d[g]=j[f];g++;this.adsWrapStore[j[f]]=true}}}return d},initParam:function(d){if(!this.U.isInIframe()){return}var d=d||window;this.currentWindowOnUnloadHandler=this.U.proxy(this.currentWindowOnUnload,this,[d]);this.U.bind(d,"beforeunload",this.currentWindowOnUnloadHandler)},currentWindowOnUnload:function(d){this.clientTree={};this.displayCounter=1;var d=d||window;this.U.unBind(d,"beforeunload",this.currentWindowOnUnloadHandler)},noop:function(){}};b.registerNamespace(c)})(window[___logAdvancedName]);(function(b){var a={fullName:"$baseName.BusinessLogic.ViewWatch",version:"1.0.0",register:function(){this.G=b.using("$baseName",this.win);this.U=b.using("$baseName.Utility",this.win);this.BL=b.using("$baseName.BusinessLogic",this.win)},analysisUrl:"http://220.181.111.115/log",longTime:7200000,uiParamMapping:{tu:"tu",did:"did",tn:"tn",word:"word",jk:"jk","if":"if",rsi0:"aw",rsi1:"ah",ch:"ch",n:"n",js:"js"},viewContextParamMapping:{pageStayTime:"pt",pageStayTimeStamp:"ps",inViewTime:"it",inViewTimeStamp:false,currViewStatus:"vs",focusTime:"ft",adViewTime:"vt",currAdViewStatus:false,adViewTimeStamp:false},clientParamMapping:{opacity:"op",desktopResolution:"csp",browserRegion:"bcl",pageRegion:"pof",top:"top",left:"left",focusSwitch:"fs"},lastVisitedUrl:{currentIndex:0,sendIndex:0,maxSize:10,paramTimeName:"lvt",paramUrlName:"lvu",paramValue:[]},isIEWatchFocus:true,focusSwitch:true,watchArrayPointer:null,intervalId:null,intervalTimeSpan:500,intervalStatus:"wait",eclickExpId:null,eclickExpStatus:false,eclickExpGroupSendAnalysisUrl:"http://eclick.baidu.com/e.jpg",initialize:function(){this.watchArrayPointer=this.BL.adsArray;this.eclickExpId=0},initializeDOM:function(){},initializeEvent:function(){this.windowOnLoad();var c=this.U.proxy(this.windowOnLoadDelay,this);this.U.ready(c,2000);this.U.bind(this.win,"beforeunload",this.U.proxy(this.windowOnUnload,this))},calculateClientParam:function(f,g,e){f.clientParam=f.clientParam||{};var d=this.U.getPosition(g);f.clientParam.left=d.left||0;f.clientParam.top=d.top||0;f.clientParam.opacity=this.U.getOpacity(g);var h=e.screen.availWidth;var c=e.screen.availHeight;if(h>10000){h=0}if(c>10000){c=0}f.clientParam.desktopResolution=h+","+c;f.clientParam.browserRegion=this.U.getClientWidth(e)+","+this.U.getClientHeight(e);f.clientParam.pageRegion=this.U.getScrollWidth(e)+","+this.U.getScrollHeight(e);f.clientParam.focusSwitch=this.focusSwitch},updateViewStatus:function(c,f,e){var h=new Date();var d=pageTimeSpan=this.intervalTimeSpan;var g=d;if(this.intervalStatus==="load"){this.intervalStatus="run";d=pageTimeSpan=0;g=pageTimeSpan=0}if(c.currViewStatus){if(this.intervalStatus==="unload"){d=parseInt(h.getTime()-c.inViewTimeStamp.getTime());if(d<0){d=0}else{if(d>this.intervalTimeSpan){d=this.intervalTimeSpan}}}c.inViewTime+=d;c.inViewTimeStamp=h;if(c.inViewTime>this.longTime){c.inViewTime=this.longTime}}else{if(f){c.inViewTimeStamp=h;c.currViewStatus=f}}if(c.currAdViewStatus){if(this.intervalStatus==="unload"){g=parseInt(h.getTime()-c.adViewTimeStamp.getTime());if(g<0){g=0}else{if(g>this.intervalTimeSpan){g=this.intervalTimeSpan}}}c.adViewTime+=g;c.adViewTimeStamp=h;if(c.adViewTime>this.longTime){c.adViewTime=this.longTime}}else{if(e){c.adViewTimeStamp=h;c.currAdViewStatus=e}}c.pageStayTime=c.pageStayTime||0;if(this.intervalStatus==="unload"){pageTimeSpan=parseInt(h.getTime()-c.pageStayTimeStamp.getTime());if(pageTimeSpan<0){pageTimeSpan=0}else{if(pageTimeSpan>this.intervalTimeSpan){pageTimeSpan=this.intervalTimeSpan}}}c.pageStayTime+=pageTimeSpan;if(this.BL.winFocused){c.focusTime+=pageTimeSpan}c.pageStayTimeStamp=h;if(c.pageStayTime>=this.longTime){c.pageStayTime=this.longTime}return c},viewableCompute:function(){var t,f;for(t=0,f=this.watchArrayPointer.length;t<f;t++){var u=this.watchArrayPointer[t];var c,m=u.win,l=u.domId;if(m&&l){c=m.document.getElementById(l)}if(!c){continue}if(!u.viewContext){var g=new Date();u.viewContext={pageStayTime:0,pageStayTimeStamp:g,inViewTime:0,inViewTimeStamp:g,currViewStatus:false,focusTime:0,adViewTime:0,currAdViewStatus:false,adViewTimeStamp:g}}var y=false;var s=false;if(!this.BL.winFocused){y=false;s=false}else{try{var p=this.U.getClientWidth(this.win);var e=this.U.getClientHeight(this.win);var w=this.U.getPosition(l,m);var d=this.U.getScrollTop(this.win);var q=this.U.getScrollLeft(this.win);var n=this.U.getOuterWidth(c);var o=this.U.getOuterHeight(c);var h=w.top-d+o*0.35;var k=w.left-q+n*0.35;y=h>0&&h<e;y=y&&(k>0&&k<p);h=w.top-d;k=w.left-q;var r=n*o;var x=(e-h)>o?o:e-h;var j=(p-k)>n?n:p-k;s=x*j>0.5*r?true:false}catch(v){y=false;s=false;continue}}u.viewContext=this.updateViewStatus(u.viewContext,y,s);u.analysisUrl=this.buildAnalysisUrl(this.analysisUrl,u)}},buildAnalysisUrl:function(c,h){if(!c||!h){return}var d=c+"?";d+="type=eclick&";d+=("id="+h.id+"&");var j=h.uiParamSnap,e=[];for(var i in this.uiParamMapping){if(i&&this.uiParamMapping[i]&&j[i]){e.push(this.uiParamMapping[i]+"="+j[i])}}d+=e.join("&");d+="&"+this.U.param(h.viewContext,this.viewContextParamMapping);if(!h.clientParam||!h.clientParam.pageRegion){try{this.calculateClientParam(h,watchDom,watchWin)}catch(g){}}if(h.clientParam){d+="&"+this.U.param(h.clientParam,this.clientParamMapping)}else{for(var f in this.clientParamMapping){if(f&&this.clientParamMapping[f]){d+="&"+this.clientParamMapping[f]+"="}}}return d},viewOnChange:function(){this.viewableCompute();if(this.watchArrayPointer[0].viewContext.pageStayTime>=this.longTime){this.windowOnUnload(false)}},windowOnLoad:function(g){var c,d,f=new Date();for(c=0,d=this.watchArrayPointer.length;c<d;c++){this.watchArrayPointer[c].viewContext={pageStayTime:0,pageStayTimeStamp:f,inViewTime:0,inViewTimeStamp:f,currViewStatus:false,focusTime:0,adViewTime:0,currAdViewStatus:false,adViewTimeStamp:f}}this.intervalStatus="load";this.focusSwitch=this.winFocusBlurOnChange(this.win,this.isIEWatchFocus);if(!this.U.browser.ie||(this.U.browser.ie&&this.U.browser.ie>6)){this.viewOnChange()}this.intervalId=setInterval(this.U.proxy(this.viewOnChange,this),this.intervalTimeSpan)},windowOnLoadDelay:function(o){var s=this.win.document.getElementsByTagName("a");var k=s.length||0;var f=[];if(this.U.isInIframe()){f=window.document.getElementsByTagName("a")}var q=k+f.length;var d=false;if(this.U.browser.ie&&this.U.browser.ie<=7&&q>500){d=false}else{if(q<1000){d=true}}if(d){for(var j=0;j<q;j++){var c=this;var g;if(j-k>=0&&f[j-k]){g=f[j-k]}else{if(s[j]){g=s[j]}}if(!g){continue}this.U.bind(g,"click",function(){var i,t,u;var i=window.event?window.event:arguments[0];if(i){t=i.target||i.srcElement;if(t&&t.href){u=t.href}else{return}}else{return}var e=c.lastVisitedUrl.currentIndex;c.lastVisitedUrl.paramValue[e]={};c.lastVisitedUrl.paramValue[e].url=encodeURIComponent(u).substring(0,300);c.lastVisitedUrl.paramValue[e].time=((new Date()).getTime()).toString();if(e<c.lastVisitedUrl.maxSize-1){c.lastVisitedUrl.sendIndex=c.lastVisitedUrl.currentIndex;c.lastVisitedUrl.currentIndex++}else{c.lastVisitedUrl.sendIndex=c.lastVisitedUrl.currentIndex;c.lastVisitedUrl.currentIndex=0}})}}var j,l,h=new Date(),p,n,r,m;for(j=0,l=this.watchArrayPointer.length;j<l;j++){var p=this.watchArrayPointer[j];if(!p){continue}r=p.win;m=p.domId;if(r&&m){n=r.document.getElementById(m)}if(!n){continue}p.clientParam=p.clientParam||{};this.calculateClientParam(p,n,r)}},windowOnUnload:function(m){try{clearInterval(this.intervalId);if(document.domain.toLowerCase().indexOf("autohome.com.cn")>-1||document.domain.toLowerCase().indexOf("sina.com.cn")>-1||document.domain.toLowerCase().indexOf("xcar.com.cn")>-1){return}if(this.intervalStatus!=="run"){this.intervalStatus="unload";return}this.intervalStatus="unload";var g,f,k,p,n,c;this.viewableCompute();for(g=0,k=this.watchArrayPointer.length;g<k;g++){p=this.watchArrayPointer[g];if(p&&p.analysisUrl&&!p.isSended){p.isSended=true;var q=document.createElement("img");document.getElementsByTagName("body")[0].appendChild(q);q.style.display="none";if(g==0){p.analysisUrl+="&total="+this.watchArrayPointer.length}var j=this.lastVisitedUrl.sendIndex;if(j<0){j=this.lastVisitedUrl.maxSize-1;this.lastVisitedUrl.sendIndex=j}if(this.lastVisitedUrl&&this.lastVisitedUrl.paramValue&&j<this.lastVisitedUrl.paramValue.length){p.analysisUrl+="&"+this.lastVisitedUrl.paramUrlName+"1="+this.lastVisitedUrl.paramValue[j].url;p.analysisUrl+="&"+this.lastVisitedUrl.paramTimeName+"1="+this.lastVisitedUrl.paramValue[j].time;this.lastVisitedUrl.sendIndex--;j--;if(j<0){j=this.lastVisitedUrl.maxSize-1;this.lastVisitedUrl.sendIndex=j}if(this.lastVisitedUrl&&this.lastVisitedUrl.paramValue&&j<this.lastVisitedUrl.paramValue.length){p.analysisUrl+="&"+this.lastVisitedUrl.paramUrlName+"2="+this.lastVisitedUrl.paramValue[j].url;p.analysisUrl+="&"+this.lastVisitedUrl.paramTimeName+"2="+this.lastVisitedUrl.paramValue[j].time;this.lastVisitedUrl.sendIndex--;j--}}q.setAttribute("src",p.analysisUrl)}}if(m){var h=200;var l=(new Date()).getTime();var d;if(this.U.browser.ie){d=l+h;while(d>l){l=(new Date()).getTime()}}else{var k=100000;for(var g=0;g<k;g++){}d=(new Date()).getTime();k=100000*h/(d-l);k=k>10000000?10000000:k;for(var g=0;g<k;g++){}}}}catch(o){console.log(o)}},winFocusBlurOnChange:function(e){var c=false,e=e||this.win;this.BL.winFocused=true;var f=this.U.proxy(function(g){this.BL.winFocused=true},this);var d=this.U.proxy(function(g){this.BL.winFocused=false},this);if(this.U.browser.ie||this.U.browser.maxthon){this.U.bind(e,"focusin",f);this.U.bind(e,"focusout",d);c=true}else{this.U.bind(e,"focus",f);this.U.bind(e,"blur",d);c=true}return c},getInstance:function(){if(!this.instances||this.instances.length<1){this.instances=[];var c=this.G.create(this);this.instances.push(c)}}};b.registerClass(a)})(window[___logAdvancedName]);